<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="single-spa Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="single-spa Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-138683004-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="single-spa" href="/opensearch.xml">
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/racial-equity-banner@1.0.3/racial-equity-banner-bottom.js"></script>
<script src="/js/index.js"></script><title data-react-helmet="true">CSS | single-spa</title><meta data-react-helmet="true" property="og:image" content="https://single-spa.github.io/single-spa.js.org/img/docusaurus.png"><meta data-react-helmet="true" name="twitter:image" content="https://single-spa.github.io/single-spa.js.org/img/docusaurus.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for single-spa"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="5.x"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-5.x"><meta data-react-helmet="true" property="og:title" content="CSS | single-spa"><meta data-react-helmet="true" name="description" content="In a microfrontends architecture, it&#x27;s important to have both shared CSS and microfrontend-specific CSS. There should only be one copy of all shared CSS, and CSS specific to a microfrontend should be scoped so that class names do not collide between microfrontends."><meta data-react-helmet="true" property="og:description" content="In a microfrontends architecture, it&#x27;s important to have both shared CSS and microfrontend-specific CSS. There should only be one copy of all shared CSS, and CSS specific to a microfrontend should be scoped so that class names do not collide between microfrontends."><meta data-react-helmet="true" property="og:url" content="https://single-spa.github.io/single-spa.js.org/docs/ecosystem-css"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo-blue-favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://single-spa.github.io/single-spa.js.org/docs/ecosystem-css"><link rel="stylesheet" href="/styles.4ec62b4b.css">
<link rel="preload" href="/styles.5b1295c5.js" as="script">
<link rel="preload" href="/runtime~main.5189d962.js" as="script">
<link rel="preload" href="/main.d60c79fe.js" as="script">
<link rel="preload" href="/1.e0ada532.js" as="script">
<link rel="preload" href="/2.85ed3226.js" as="script">
<link rel="preload" href="/112.0e9a579a.js" as="script">
<link rel="preload" href="/561a3eb1.e8db9cce.js" as="script">
<link rel="preload" href="/17896441.18eea668.js" as="script">
<link rel="preload" href="/8f8ee7f5.8d6f64a8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo-white-bgblue.svg" alt="single-spa Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-white-bgblue.svg" alt="single-spa Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">single-spa</strong></a><a class="navbar__item navbar__link" style="white-space:nowrap;padding:0.25rem 0.5rem 0.2rem 0.25rem;font-size:calc(0.9 * var(--ifm-font-size-base));text-decoration:underline" href="/versions">5.x</a><a class="navbar__item navbar__link" href="/docs/faq/">FAQ</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/help/">Help</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a href="https://opencollective.com/single-spa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Donate</a><a href="https://github.com/single-spa/single-spa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a class="navbar__item navbar__link" href="/languages">ç®€Ð–à¤¹à¤¿ Languages</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo-white-bgblue.svg" alt="single-spa Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-white-bgblue.svg" alt="single-spa Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">single-spa</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" style="white-space:nowrap;padding:0.25rem 0.5rem 0.2rem 0.25rem;font-size:calc(0.9 * var(--ifm-font-size-base));text-decoration:underline" href="/versions">5.x</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/faq/">FAQ</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/help/">Help</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/">Blog</a></li><li class="menu__list-item"><a href="https://opencollective.com/single-spa" target="_blank" rel="noopener noreferrer" class="menu__link">Donate</a></li><li class="menu__list-item"><a href="https://github.com/single-spa/single-spa" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/languages">ç®€Ð–à¤¹à¤¿ Languages</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started-overview">Overview of single-spa</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/examples">Resources</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/single-spa-playground">Playground</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/videos">Videos</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/create-single-spa">create-single-spa</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concept: Microfrontend</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/microfrontends-concept">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/module-types">Microfrontend Types</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concept: Root Config</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration">Configuring single-spa</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concept: Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/building-applications">single-spa applications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/separating-applications">Splitting applications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/migrating-existing-spas">Migrating existing code</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concept: Parcel</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/parcels-overview">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Testing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/units">Unit testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/testing/e2e">E2E testing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Layout Engine</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/layout-overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/layout-definition">Layout Definition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/layout-api">API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">The Recommended Setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/recommended-setup">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api">Applications API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/parcels-api">Parcels API</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Ecosystem</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/ecosystem-css">CSS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-react">React</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-vue">Vue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-angular">Angular</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-angularjs">AngularJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-cycle">Cycle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-ember">Ember</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-inferno">Inferno</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-preact">Preact</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-svelte">Svelte</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-riot">Riot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-backbone">Backbone</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-html-web-components">HTML / Web Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-leaked-globals">Leaked globals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-dojo">Dojo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-alpinejs">AlpineJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-vite">Vite</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ecosystem-snowpack">Snowpack</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Server Side Rendering (New)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ssr-overview">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Dev Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/devtools">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contributing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contributing-overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/code-of-conduct">Code of Conduct</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: 5.x</span></div><header><h1 class="docTitle_Oumm">CSS</h1></header><div class="markdown"><p>In a microfrontends architecture, it&#x27;s important to have both shared CSS and microfrontend-specific CSS. There should only be one copy of all shared CSS, and CSS specific to a microfrontend should be scoped so that class names do not collide between microfrontends.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="shared-css"></a>Shared CSS<a class="hash-link" href="#shared-css" title="Direct link to heading">#</a></h2><p>It is best for both performance and developer experience to have some shared CSS. Often, the shared CSS is part of a &quot;styleguide&quot; or &quot;design system.&quot;</p><p>Sometimes the design system is created in-house by a company, and other times it&#x27;s an open source design system that is available on npm (Material UI, Bootstrap, Semantic UI, etc). For both cases, it&#x27;s important that there is only a single copy of the CSS on the page at any time. When using <a href="/docs/recommended-setup">the recommended setup</a>, this is accomplished by following <a href="/docs/recommended-setup#sharing-with-import-maps">the techniques in this documentation</a>.</p><p>Besides sharing component styles, the styleguide or design system also usually includes CSS resets and utility classes.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="in-house-design-system"></a>In-House Design System<a class="hash-link" href="#in-house-design-system" title="Direct link to heading">#</a></h3><p>Our recommendation for in-house design systems is to create a <a href="/docs/module-types#utilities">utility microfrontend</a> (often named <code>@your-org-name/styleguide</code>). Contained within the utility microfrontend are shared CSS and Javascript components that are available for all other microfrontends to use.</p><p>Other microfrontends can access shared Javascript components via <a href="/docs/recommended-setup#cross-microfrontend-imports">cross-microfrontend imports</a>, and apply shared, global CSS classes to their components in the normal way (<code>&lt;div class=&quot;bold&quot;&gt;</code>).</p><p>Here are some examples:</p><ul><li><a href="https://github.com/react-microfrontends/styleguide" target="_blank" rel="noopener noreferrer">https://github.com/react-microfrontends/styleguide</a></li><li><a href="https://github.com/vue-microfrontends/styleguide" target="_blank" rel="noopener noreferrer">https://github.com/vue-microfrontends/styleguide</a></li><li><a href="https://github.com/polyglot-microfrontends/styleguide" target="_blank" rel="noopener noreferrer">https://github.com/polyglot-microfrontends/styleguide</a></li></ul><p>The alternative to creating a utility microfrontend for your styleguide is to publish it to npm. The drawback to this approach is that it makes it easier to have duplicate copies of the styleguide, and also easier to have different versions of the styleguide. Npm packages are not independently deployable, nor are they singletons, but for a styleguide it&#x27;s often desirable to have it centrally managed and can be deployed separately from the microfrontends that use them.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="third-party-design-system"></a>Third Party Design System<a class="hash-link" href="#third-party-design-system" title="Direct link to heading">#</a></h3><p>When using a third-party design system, such as Material UI, Bootstrap, Semantic, etc, it is important that only one copy and version of the design system is loaded on the page. To accomplish this, here are two implementation options.</p><ol><li>Add the design system libraries to your SystemJS import map, then mark them as external (<a href="/docs/recommended-setup#sharing-with-import-maps">full documentation</a>). Alternatively, do the equivalent with <a href="/docs/recommended-setup#sharing-with-module-federation">module federation</a>.</li><li>Create a utility microfrontend (often called <code>@your-org-name/styleguide</code>) that contains all shared CSS and Javascript components. Re-export the components from the design system so that all other microfrontends can access them via <a href="/docs/recommended-setup#cross-microfrontend-imports">cross microfrontend imports</a> (<code>import { Button } from &#x27;@your-org-name/styleguide&#x27;;</code>).</li></ol><p>Once the design system is properly shared, all its CSS and Javascript components will only be included one time on the web page. The code using the design system&#x27;s components remains unchanged.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="global-css-versus-shared-javascript-components"></a>Global CSS versus shared Javascript components<a class="hash-link" href="#global-css-versus-shared-javascript-components" title="Direct link to heading">#</a></h3><p>It&#x27;s possible to share CSS via global CSS classes, Javascript components, or both. No method is clearly superior than others in every way, and you should choose an approach that fits your situation.</p><p>Some organizations scope the CSS for their shared Javascript components as a way of ensuring that the look and feel requires that you use the Javascript components. However, other organizations choose to publish global CSS in addition to their Javascript components, to allow for additional flexibility in their look and feel and make it easier to support multiple frameworks.</p><p>To share Javascript components, use <a href="/docs/recommended-setup#cross-microfrontend-imports">cross microfrontend imports</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="css-custom-properties"></a>CSS Custom Properties<a class="hash-link" href="#css-custom-properties" title="Direct link to heading">#</a></h3><p>Browsers support <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties" target="_blank" rel="noopener noreferrer">CSS custom properties</a> (sometimes called CSS Variables), which facilitate sharing CSS between microfrontends in an easy way. Any CSS variable applied to the <code>:root</code> pseudoelement is accessible to any other microfrontend.</p><pre class="mdxCodeBlock_1WSO"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-css codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* In your styleguide / design system */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token selector pseudo-class" style="color:rgb(199, 146, 234)">:root</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token variable" style="color:rgb(191, 199, 213)">--blue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token hexcode">#0000FF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></pre><pre class="mdxCodeBlock_1WSO"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-css codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* In an individual microfrontend */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token selector class" style="color:rgb(199, 146, 234)">.settings</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">var</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token variable" style="color:rgb(191, 199, 213)">--blue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></pre><p>No extra configuration is needed for this to work, as this is built into the browser.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="scoped-css"></a>Scoped CSS<a class="hash-link" href="#scoped-css" title="Direct link to heading">#</a></h2><p>For all CSS specific to a particular microfrontend or component, it is preferred to scope the CSS. In general, CSS classes are global by default, but &quot;scoping&quot; refers to encapsulating the CSS such that it only applies to one component or microfrontend. The code snippets below demonstrate some ways that this is possible:</p><pre class="mdxCodeBlock_1WSO"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-css codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  GLOBAL: this css class is not scoped</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  NOT RECOMMENDED</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="display:inline-block;color:rgb(105, 112, 152);font-style:italic">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  &lt;div class=&quot;settings&quot;&gt;&lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token selector class" style="color:rgb(199, 146, 234)">.settings</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> blue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  Scoped by suffixing all css classes with a unique hash. This is often done by build tools,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  particularly CSS Modules via Webpack&#x27;s css-loader (https://webpack.js.org/loaders/css-loader/).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="display:inline-block;color:rgb(105, 112, 152);font-style:italic">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  &lt;div class=&quot;settings-67f89dd87sf89ds&quot;&gt;&lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token selector class" style="color:rgb(199, 146, 234)">.settings-67f89dd87sf89ds</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> blue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  Scoped by suffixing all CSS classes with a unique hash, and also adding a unique prefix</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  (such as the microfrontend name) to classes. This is a variant of the above, except it</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  ensures no collision of generated hashes. See the localIdentName option to css-loader</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  https://webpack.js.org/loaders/css-loader/#localidentname</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="display:inline-block;color:rgb(105, 112, 152);font-style:italic">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  &lt;div class=&quot;app1__settings-67f89dd87sf89ds&quot;&gt;&lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token selector class" style="color:rgb(199, 146, 234)">.app1__settings-67f89dd87sf89ds</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> blue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  Scoped via data attribute. This can often be done automatically by build tools (including Vue CLI, Angular, Svelte).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  Only one component or microfrontend adds this specific data attribute, effectively</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  making the settings class &quot;scoped&quot; to that microfrontend</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="display:inline-block;color:rgb(105, 112, 152);font-style:italic">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  &lt;div data-df65s76dfs class=&quot;settings&quot;&gt;&lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token selector class" style="color:rgb(199, 146, 234)">.settings</span><span class="token selector attribute punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token selector attribute" style="color:rgb(199, 146, 234)">data-df65s76dfs</span><span class="token selector attribute punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> blue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  Scoped via container selector. Single-spa applications are generally wrapped in a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  div that looks like this: &lt;div id=&quot;single-spa-application:@org-name/project-name&quot;&gt;&lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="display:inline-block;color:rgb(105, 112, 152);font-style:italic">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  We can make our CSS class only apply to one microfrontend by prefixing it with that id.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="display:inline-block;color:rgb(105, 112, 152);font-style:italic">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  Run CSS.escape(&quot;single-spa-application:@org-name/project-name&quot;); in the browser console</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  to escape any special characters in the ID, to ensure that the container selector works.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="display:inline-block;color:rgb(105, 112, 152);font-style:italic">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  &lt;div id=&quot;single-spa-application:@org-name/project-name&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    &lt;div class=&quot;settings&quot;&gt;&lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">  &lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#single-spa-application\</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">\</span><span class="token atrule rule">@org-name</span><span class="token atrule">\/project-name </span><span class="token atrule number" style="color:rgb(247, 140, 108)">.</span><span class="token atrule">settings</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> blue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ui-frameworks"></a>UI Frameworks<a class="hash-link" href="#ui-frameworks" title="Direct link to heading">#</a></h3><p>Many popular UI frameworks have scoping built-in, or large ecosystems of open source libraries that help with scoping:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="react"></a>React<a class="hash-link" href="#react" title="Direct link to heading">#</a></h4><p>React CSS is quite diverse, with hundreds of options. Here are a few popular options that each result in component-scoped CSS:</p><ul><li><a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener noreferrer">CSS Modules</a></li><li><a href="https://styled-components.com/" target="_blank" rel="noopener noreferrer">Styled Components</a></li><li><a href="https://emotion.sh/docs/introduction" target="_blank" rel="noopener noreferrer">Emotion</a></li></ul><p>Also, in the single-spa community created Kremling, which scopes CSS while also unmounting it from the DOM when the React component unmounts:</p><ul><li><a href="https://github.com/CanopyTax/kremling" target="_blank" rel="noopener noreferrer">Kremling</a></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="angular"></a>Angular<a class="hash-link" href="#angular" title="Direct link to heading">#</a></h4><p><a href="https://angular.io/guide/component-styles" target="_blank" rel="noopener noreferrer">Angular Component Styles</a> are built into Angular and facilitate scoping CSS to a component (and therefore, to its containing microfrontend).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="vue"></a>Vue<a class="hash-link" href="#vue" title="Direct link to heading">#</a></h4><p>Vue <a href="https://vue-loader.vuejs.org/spec.html">Single File Components (SFC)</a> have built-in support for <a href="https://vue-loader.vuejs.org/guide/scoped-css.html">Scoped CSS</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="svelte"></a>Svelte<a class="hash-link" href="#svelte" title="Direct link to heading">#</a></h4><p>Svelte scopes CSS classes by default (<a href="https://svelte.dev/tutorial/styling" target="_blank" rel="noopener noreferrer">Docs</a>).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="postcss-prefix-selector"></a>PostCSS Prefix Selector<a class="hash-link" href="#postcss-prefix-selector" title="Direct link to heading">#</a></h3><p><a href="https://postcss.org/" target="_blank" rel="noopener noreferrer">PostCSS</a> is a build tool that processes your CSS. It&#x27;s often used via Webpack with <a href="https://www.npmjs.com/package/postcss-loader" target="_blank" rel="noopener noreferrer">postcss-loader</a>.</p><p>A particular PostCSS plugin called <a href="https://github.com/RadValentin/postcss-prefix-selector" target="_blank" rel="noopener noreferrer">postcss-prefix-selector</a> can be very helpful to scope CSS to a microfrontend.
With single-spa, each application is wrapped in a <code>&lt;div id=&quot;single-spa-application:@org-name/project-name&quot;&gt;&lt;/div&gt;</code>, which can be used as a prefix to all CSS classes and selectors.
Run <code>CSS.escape(&quot;single-spa-application:@org-name/project-name&quot;)</code> in the browser console to make sure the HTML id is escaped, then prefix it with <code>#</code> so that it matches the id. The resulting string is what you pass into postcss-prefix-selector.</p><p>The example code above in the <a href="#scoped-css">Scoped CSS</a> section shows the mechanics of how selector prefixing can accomplish scoping, and postcss-prefix-selector can do this automatically to
all of your CSS. Below is an example PostCSS configuration file:</p><pre class="mdxCodeBlock_1WSO"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// postcss.config.js</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> prefixer </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;postcss-prefix-selector&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  plugins</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">prefixer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      prefix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;#single-spa-application\\:\\@org-name\\/project-name&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="shadow-dom"></a>Shadow DOM<a class="hash-link" href="#shadow-dom" title="Direct link to heading">#</a></h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM" target="_blank" rel="noopener noreferrer">Shadow DOM</a> is a browser API for scoping CSS. It is designed to be used by <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components" target="_blank" rel="noopener noreferrer">Web Components</a>, and is mentioned here as another viable option for scoping CSS.</p><p>Below are some notes about Shadow DOM that may be relevant to microfrontends:</p><ul><li>Shadow DOM prevents any global CSS from cascading into the Shadow Root, which means you can&#x27;t easily have global, shared CSS.</li><li>CSS custom properties from outside the Shadow Root can be used within the Shadow Root.</li><li>The HTML elements within the Shadow DOM are not reachable by CSS selectors outside of the Shadow Root.</li><li>Events that propagate from a Shadow Root are retargeted at each shadow boundary.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="lazy-loading"></a>Lazy Loading<a class="hash-link" href="#lazy-loading" title="Direct link to heading">#</a></h2><p>&quot;Loading&quot; CSS refers to downloading the CSS by inserting a <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/my-file.css&quot;&gt;</code> element into the DOM, or by downloading a Javascript file that inserts a <code>&lt;style&gt;&lt;/style&gt;</code> element into the DOM.</p><p>&quot;Lazy Loading&quot; refers to only inserting the <code>&lt;link&gt;</code> or <code>&lt;style&gt;</code> elements into the DOM once they are needed, instead of all at once. In single-spa, this is during the <a href="/docs/building-applications#load"><code>load</code></a> or <a href="/docs/building-applications#mount"><code>mount</code></a> lifecycle functions.</p><p>Each microfrontend should only load its CSS into the DOM after its Javascript is downloaded. Single-spa lazy loads the Javascript for each microfrontend, by default; therefore, the CSS for the microfrontends will only be loaded as needed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unmounting-css"></a>Unmounting CSS<a class="hash-link" href="#unmounting-css" title="Direct link to heading">#</a></h2><p>In large systems with dozens of microfrontends, it can become important for performance to unmount CSS as you navigate between pages. This is accomplished by removing <code>&lt;style&gt;</code> and <code>&lt;link&gt;</code> elements from the DOM.</p><p>By default, most tooling will load and mount the CSS one time and leave it there indefinitely (it never unmounts!). However, some resources exist for unmounting CSS that is no longer being used, and remounting it once it&#x27;s needed again.</p><p>To accomplish this, single-spa applications and parcels should remove <code>&lt;link&gt;</code> and <code>&lt;style&gt;</code> elements inside of their <a href="/docs/building-applications#unmount">unmount lifecycle function</a>:</p><pre class="mdxCodeBlock_1WSO"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// This code is an example of the mechanics of mounting + unmounting + remounting CSS.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// In practice, this is often done via tools like css-loader, style-loader, or</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// single-spa-css (rather than manually).</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> style </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(191, 199, 213)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">createElement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;style&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">textContent</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">.settings {color: blue;}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> mount </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token dom variable" style="color:rgb(191, 199, 213)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">head</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">appendChild</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">styleElement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  reactLifecycles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">mount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> unmount </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  reactLifecycles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">unmount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    styleElement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">remove</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></pre><p>To help you accomplish this, this <a href="/docs/ecosystem-css#single-spa-css">single-spa-css</a> library implements mount and unmount functions for you.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sass-postcss-less-stylus-etc"></a>SASS, PostCSS, Less, Stylus, etc<a class="hash-link" href="#sass-postcss-less-stylus-etc" title="Direct link to heading">#</a></h2><p><a href="https://sass-lang.com/" target="_blank" rel="noopener noreferrer">SASS</a>, <a href="https://postcss.org/" target="_blank" rel="noopener noreferrer">PostCSS</a>, <a href="https://lesscss.org/" target="_blank" rel="noopener noreferrer">Less</a>, <a href="https://stylus-lang.com/" target="_blank" rel="noopener noreferrer">Stylus</a>, and other CSS build tools are all compatible with single-spa and microfrontends.</p><p>These tools run at build-time to produce vanilla CSS files. All of the documentation on this page applies to the output CSS files created by SASS and other CSS preprocessors.</p><p>Since each microfrontend has its own build, this means that there are multiple SASS (or other preprocessor) builds occurring - one per microfrontend. As a result, SASS variables are not shareable via <a href="/docs/recommended-setup#cross-microfrontend-imports">cross microfrontend imports</a>, since cross microfrontend imports occur at runtime. Instead, to share SASS variables, you&#x27;ll need to publish them to an NPM registry and install them individually into each microfrontend. Since npm packages are not independently deployable (separately from the packages that use them), changes to the variables will need to be updated and deployed in each microfrontend individually. One thing to note is that <a href="#css-custom-properties">the browser&#x27;s implementation of CSS custom properties</a> occurs at runtime and so native CSS custom properties are inherently shareable between microfrontends.</p><p>SASS and other build tools often produce global CSS rather than <a href="#scoped-css">scoped CSS</a>. This behavior can be undesirable in a microfrontends architecture because it can result in CSS class name collisions between your microfrontends. To avoid this, you can use <a href="https://blog.bitsrc.io/how-to-use-sass-and-css-modules-with-create-react-app-83fa8b805e5e" target="_blank" rel="noopener noreferrer">SASS modules</a> (or similar) to scope the CSS.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="webpack-css-resources"></a>Webpack CSS resources<a class="hash-link" href="#webpack-css-resources" title="Direct link to heading">#</a></h2><p>Below is a list of commonly used Webpack loaders and plugins that can help with loading CSS:</p><ul><li><a href="https://webpack.js.org/loaders/css-loader/#root" target="_blank" rel="noopener noreferrer">css-loader</a> facilitates using CSS Modules and properly handling <code>@import()</code> within CSS files.</li><li><a href="https://webpack.js.org/loaders/style-loader/#root" target="_blank" rel="noopener noreferrer">style-loader</a> facilitates mounting CSS via <code>&lt;style&gt;</code> elements. This is often used in development mode, but not production.</li><li><a href="https://webpack.js.org/loaders/postcss-loader/#root" target="_blank" rel="noopener noreferrer">postcss-loader</a> is similar to CSS modules, but for more advanced use cases that require PostCSS.</li><li><a href="https://webpack.js.org/loaders/sass-loader/#root" target="_blank" rel="noopener noreferrer">sass-loader</a> can be used to compile SASS to CSS.</li><li><a href="#single-spa-css">single-spa-css</a> can be used to automatically detect which CSS files to load during the <code>mount</code> lifecycle function of your single-spa application or parcel.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="single-spa-css"></a>single-spa-css<a class="hash-link" href="#single-spa-css" title="Direct link to heading">#</a></h2><p>The <code>single-spa-css</code> npm package implements helper functions for loading, mounting, and unmounting CSS. It does this by adding <code>&lt;link rel=&quot;stylesheet&quot;&gt;</code> elements to the DOM to mount the CSS, and removing the <code>&lt;link&gt;</code> from the DOM when it&#x27;s time to unmount the CSS.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="installation"></a>Installation<a class="hash-link" href="#installation" title="Direct link to heading">#</a></h3><pre class="mdxCodeBlock_1WSO"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sh codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm install single-spa-css</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pnpm install single-spa-css</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">yarn add single-spa-css</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage"></a>Usage<a class="hash-link" href="#usage" title="Direct link to heading">#</a></h3><pre class="mdxCodeBlock_1WSO"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> singleSpaCss </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;single-spa-css&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> cssLifecycles </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">singleSpaCss</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// required: a list of CSS URLs to load</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// can be omitted if webpackExtractedCss is set to true, do not specify Webpack extracted css files here</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cssUrls</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;https://example.com/main.css&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// optional: defaults to false. This controls whether extracted CSS files from Webpack</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// will automatically be loaded. This requires using the ExposeRuntimeCssAssetsPlugin,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// which is documented below.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  webpackExtractedCss</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// optional: defaults to true. Indicates whether the &lt;link&gt; element for the CSS will be</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// unmounted when the single-spa microfrontend is unmounted.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  shouldUnmount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// optional: defaults to 5000. The number of milliseconds to wait on the &lt;link&gt; to load</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// before failing the mount lifecycle.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  timeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5000</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> reactLifecycles </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">singleSpaReact</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Export an array of lifecycles to integrate with a framework&#x27;s</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// single-spa lifecycles. The order matters.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> bootstrap </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cssLifecycles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">bootstrap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  reactLifecycles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">bootstrap</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> mount </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// The CSS lifecycles should be before your framework&#x27;s mount lifecycle,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// to avoid a Flash of Unstyled Content (FOUC)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cssLifecycles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">mount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  reactLifecycles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">mount</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> unmount </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// The CSS lifecycles should be after your framework&#x27;s unmount lifecycle,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// to avoid a Flash of Unstyled Content (FOUC)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  reactLifecycles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">unmount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cssLifecycles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">unmount</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></pre><p>If you want some CSS files to unmount, but others to stay mounted, use the following syntax:</p><pre class="mdxCodeBlock_1WSO"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> cssLifecycles </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">singleSpaCss</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cssUrls</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      href</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://example.com/main.css&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      shouldUnmount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      href</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://example.com/other.css&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      shouldUnmount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="webpack-plugin"></a>Webpack Plugin<a class="hash-link" href="#webpack-plugin" title="Direct link to heading">#</a></h3><p><strong>This plugin currently only supports webpack 5. See <a href="https://github.com/single-spa/single-spa-css/issues/7" target="_blank" rel="noopener noreferrer">issue 7</a> to track webpack 4 support.</strong></p><p>single-spa-css includes a Webpack plugin that integrates with <a href="https://github.com/webpack-contrib/mini-css-extract-plugin" target="_blank" rel="noopener noreferrer">mini-css-extract-plugin</a>, which allows you to load CSS files that are extracted and otherwise would not be loaded. The Webpack plugin exposes the names of the extracted CSS files to your bundle under the <code>__webpack_require__.cssAssets</code> and <code>__webpack_require__.cssAssetFileName</code> variables. The <code>cssAssets</code> variable contains the name of the Webpack chunk, and the <code>cssAssetFileName</code> function converts the chunk name into the extracted CSS asset&#x27;s file name. These can be used manually, or you can specify the <code>webpackExtractedCss</code> option in single-spa-css to have it automatically mount and unmount those CSS files.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage-1"></a>Usage<a class="hash-link" href="#usage-1" title="Direct link to heading">#</a></h4><p>In your Webpack config, add the following:</p><pre class="mdxCodeBlock_1WSO"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">MiniCssExtractPlugin</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">ExposeRuntimeCssAssetsPlugin</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;single-spa-css/ExposeRuntimeCssAssetsPlugin.cjs&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  plugins</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MiniCssExtractPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      filename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;[name].css&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ExposeRuntimeCssAssetsPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// The filename here must match the filename for the MiniCssExtractPlugin</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      filename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;[name].css&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></pre></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/single-spa/single-spa.js.org/blob/master/website/versioned_docs/version-5.x/ecosystem-css.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/ecosystem"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« The single-spa ecosystem</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/ecosystem-react"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">single-spa-react Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#shared-css" class="table-of-contents__link">Shared CSS</a><ul><li><a href="#in-house-design-system" class="table-of-contents__link">In-House Design System</a></li><li><a href="#third-party-design-system" class="table-of-contents__link">Third Party Design System</a></li><li><a href="#global-css-versus-shared-javascript-components" class="table-of-contents__link">Global CSS versus shared Javascript components</a></li><li><a href="#css-custom-properties" class="table-of-contents__link">CSS Custom Properties</a></li></ul></li><li><a href="#scoped-css" class="table-of-contents__link">Scoped CSS</a><ul><li><a href="#ui-frameworks" class="table-of-contents__link">UI Frameworks</a></li><li><a href="#postcss-prefix-selector" class="table-of-contents__link">PostCSS Prefix Selector</a></li><li><a href="#shadow-dom" class="table-of-contents__link">Shadow DOM</a></li></ul></li><li><a href="#lazy-loading" class="table-of-contents__link">Lazy Loading</a></li><li><a href="#unmounting-css" class="table-of-contents__link">Unmounting CSS</a></li><li><a href="#sass-postcss-less-stylus-etc" class="table-of-contents__link">SASS, PostCSS, Less, Stylus, etc</a></li><li><a href="#webpack-css-resources" class="table-of-contents__link">Webpack CSS resources</a></li><li><a href="#single-spa-css" class="table-of-contents__link">single-spa-css</a><ul><li><a href="#installation" class="table-of-contents__link">Installation</a></li><li><a href="#usage" class="table-of-contents__link">Usage</a></li><li><a href="#webpack-plugin" class="table-of-contents__link">Webpack Plugin</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" label="FAQ" href="/docs/faq/">FAQ</a></li><li class="footer__item"><a class="footer__link-item" label="Getting Started" href="/docs/getting-started-overview/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" label="API Reference" href="/docs/api/">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" label="Sponsors" href="/sponsors/">Sponsors</a></li><li class="footer__item"><a class="footer__link-item" label="User Showcase" href="/users/">User Showcase</a></li><li class="footer__item"><a class="footer__link-item" label="Contributors" href="/contributors/">Contributors</a></li><li class="footer__item"><a href="https://join.slack.com/t/single-spa/shared_invite/zt-mafdeybq-0v1aIm3KKaqyVCT2xeny3Q" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Chat in Slack">Chat in Slack</a></li><li class="footer__item"><a href="https://twitter.com/Single_spa/" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Twitter">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/single-spa/single-spa" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="GitHub">GitHub</a></li><li class="footer__item"><a href="https://opencollective.com/single-spa" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Donate">Donate</a></li><li class="footer__item"><a class="footer__link-item" label="Blog" href="/blog/">Blog</a></li><li class="footer__item footer__item--gh"><iframe title="github" src="https://ghbtns.com/github-btn.html?user=single-spa&amp;repo=single-spa&amp;type=star&amp;count=true&amp;size=small"></iframe></li><li class="footer__item"><a href="/img/icons/148705-essential-collection/license/license.html">License for icons</a></li></ul></div></div><div class="text--center"><img class="footer__logo margin-bottom--sm" alt="single-spa" src="/img/logo-white-bgblue.svg"><div>Originally developed at <a href="https://getcanopy.com">Canopy</a></div>Copyright Â© 2021 single-spa.</div></div></footer></div>
<script src="/styles.5b1295c5.js"></script>
<script src="/runtime~main.5189d962.js"></script>
<script src="/main.d60c79fe.js"></script>
<script src="/1.e0ada532.js"></script>
<script src="/2.85ed3226.js"></script>
<script src="/112.0e9a579a.js"></script>
<script src="/561a3eb1.e8db9cce.js"></script>
<script src="/17896441.18eea668.js"></script>
<script src="/8f8ee7f5.8d6f64a8.js"></script>
</body>
</html>