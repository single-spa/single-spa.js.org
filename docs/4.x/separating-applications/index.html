<!doctype html>
<html class="docs-version-4.x" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="single-spa RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="single-spa Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="single-spa" href="/opensearch.xml">
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/racial-equity-banner@1.0.4/racial-equity-banner-bottom.js"></script>
<script src="/js/index.js"></script><title data-react-helmet="true">Splitting up applications | single-spa</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://single-spa.js.org/img/docusaurus.png"><meta data-react-helmet="true" name="twitter:image" content="https://single-spa.js.org/img/docusaurus.png"><meta data-react-helmet="true" property="og:url" content="https://single-spa.js.org/docs/4.x/separating-applications"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="4.x"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-4.x"><meta data-react-helmet="true" property="og:title" content="Splitting up applications | single-spa"><meta data-react-helmet="true" name="description" content="In a large, microserviced system, your root single-spa configuration and each of the applications should probably have its own git repository. How to do that in a JavaScript project isn&#x27;t necessarily clear, so some options are listed below."><meta data-react-helmet="true" property="og:description" content="In a large, microserviced system, your root single-spa configuration and each of the applications should probably have its own git repository. How to do that in a JavaScript project isn&#x27;t necessarily clear, so some options are listed below."><link data-react-helmet="true" rel="icon" href="/img/single-spa-mark-magenta.svg"><link data-react-helmet="true" rel="canonical" href="https://single-spa.js.org/docs/4.x/separating-applications"><link data-react-helmet="true" rel="alternate" href="https://single-spa.js.org/docs/4.x/separating-applications" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://single-spa.js.org/docs/4.x/separating-applications" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.81d98c67.css">
<link rel="preload" href="/assets/js/runtime~main.1f4fedc3.js" as="script">
<link rel="preload" href="/assets/js/main.870c8bc6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/single-spa-mark-magenta.svg" alt="single-spa Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/single-spa-mark-magenta.svg" alt="single-spa Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">single-spa</b></a><a class="navbar__item navbar__link" style="white-space:nowrap;padding:0.25rem 0.5rem 0.2rem 0.25rem;font-size:calc(0.9 * var(--ifm-font-size-base));text-decoration:underline" href="/versions">5.x</a><a class="navbar__item navbar__link" href="/docs/faq/">FAQ</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://single-spa-workshop.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Courses</a><a class="navbar__item navbar__link" href="/help/">Help</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a href="https://opencollective.com/single-spa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/single-spa/single-spa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link" href="/languages">ç®€Ð–à¤¹à¤¿ Languages</a></div><div class="navbar__items navbar__items--right"><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Kl_"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/4.x/getting-started-overview">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/4.x/starting-from-scratch">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/4.x/examples">Examples</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/4.x/configuration">Concept: Root Config</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/docs/4.x/building-applications">Concept: Application</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.x/building-applications">single-spa applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/4.x/separating-applications">Splitting applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.x/migrating-existing-spas">Migrating existing code</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/4.x/parcels-overview">Concept: Parcel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/4.x/api">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/4.x/ecosystem">Ecosystem</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/4.x/contributing-overview">Contributing</a></div></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->single-spa<!-- --> <b>4.x</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/separating-applications">latest version</a></b> (<!-- -->5.x<!-- -->).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->4.x</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Splitting up applications</h1></header><p>In a large, microserviced system, your root single-spa configuration and each of the applications should probably have its own git repository. How to do that in a JavaScript project isn&#x27;t necessarily clear, so some options are listed below.</p><p>Since single-spa is a framework that helps with organizational scaling, it is important to figure out how to split out and separate applications from each other so that developers and teams can work on the applications without interfering one another.</p><p>Most interpretations of microservice architecture encourage separate code repositories, builds, and deployments. Although <strong>single-spa does not solve how code is hosted, built, or deployed</strong>, these are relevant to many users of single-spa, so some strategies for doing so are discussed here.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="option-1-one-code-repo-one-build">Option 1: One code repo, one build<a class="hash-link" href="#option-1-one-code-repo-one-build" title="Direct link to heading">â€‹</a></h4><p>The simplest approach for using single-spa is to have one code repository with everything in it. Typically, you would have a single package.json with a single webpack config that produces a bundle that can be included in an HTML file with a <code>&lt;script&gt;</code> tag.</p><p>Advantages:</p><ul><li>Simplest to set up</li><li><a href="https://danluu.com/monorepo/" target="_blank" rel="noopener noreferrer">monolithic version control has some advantages</a></li></ul><p>Disadvantages:</p><ul><li>One master Webpack config and package.json means less flexibility and freedom for each individual project</li><li>Slow build times once your project gets large</li><li>Builds and deployments are all tied together, which can necessitate fixed release schedules instead of ad hoc releases.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="option-2-npm-packages">Option 2: NPM packages<a class="hash-link" href="#option-2-npm-packages" title="Direct link to heading">â€‹</a></h4><p>Create a root application that npm installs each of the single-spa applications. Each child application is in a separate code repository and is responsible for publishing a new version everytime that it updates. The root application should reinstall, rebuild, and redeploy whenever a single-spa application changes.</p><p>Typically, the single-spa applications compile themselves separately with babel and/or webpack.</p><p>Note that you can also use the <a href="https://medium.com/netscape/the-case-for-monorepos-907c1361708a" target="_blank" rel="noopener noreferrer">monorepo methodology</a> which allows for separate builds without having separate code repositories.</p><p>Advantages:</p><ul><li>npm install is familiar and easy to set up</li><li>Separate npm packages means each application can build itself separately before publishing to npm</li></ul><p>Disadvantages:</p><ul><li>The root application must reinstall the child applications in order to rebuild/redeploy</li><li>Medium difficulty to set up</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="option-3-dynamic-module-loading">Option 3: Dynamic Module Loading<a class="hash-link" href="#option-3-dynamic-module-loading" title="Direct link to heading">â€‹</a></h4><p>Create a root application which can allow single-spa applications to deploy themselves separately. To do so,
create a manifest file that the single-spa applications update during their deployment process, which controls
which versions of the single-spa applications are &quot;live&quot;. Then change which JavaScript file is loaded based on the manifest.</p><p>Changing which JavaScript file is loaded for each child application can be done in many ways.</p><ol><li>Web server: have your webserver create a dynamic script tag for the &quot;live&quot; version of each single-spa application.</li><li>Use a <a href="https://www.jvandemo.com/a-10-minute-primer-to-javascript-modules-module-formats-module-loaders-and-module-bundlers/" target="_blank" rel="noopener noreferrer">module loader</a> such as <a href="https://github.com/systemjs/systemjs" target="_blank" rel="noopener noreferrer">SystemJS</a> that can download and execute JavaScript code in the browser from dynamic urls.</li></ol><h4 class="anchor anchorWithStickyNavbar_31ik" id="comparison">Comparison<a class="hash-link" href="#comparison" title="Direct link to heading">â€‹</a></h4><style>
  .comparisonTable td {
    width: 25%;
  }
  .comparisonTable .middle {
    text-align: center;
    vertical-align: middle;
  }
  .comparisonTable ul {
    padding-left: 1em;
  }
</style><table class="comparisonTable"><caption>Comparison of front-end system architectures</caption><thead><tr><th></th><th scope="col" class="middle">Monorepo</th><th scope="col" class="middle">NPM modules</th><th scope="col" class="middle">Module loading</th></tr></thead><tbody><tr><th scope="row">Difficulty to set up</th><td class="middle">Easy</td><td class="middle">Medium</td><td class="middle">Hard</td></tr><tr><th scope="row">Separate code repositories</th><td class="middle"><span class="sr-text">No</span></td><td class="middle"><span class="sr-text">No</span></td><td class="middle"><span role="img" aria-label="Yes">âœ…</span></td></tr><tr><th scope="row">Separate builds</th><td class="middle"><span class="sr-text">No</span></td><td class="middle"><span role="img" aria-label="Yes">âœ…</span></td><td class="middle"><span role="img" aria-label="Yes">âœ…</span></td></tr><tr><th scope="row">Separate deployments</th><td class="middle"><span class="sr-text">No</span></td><td class="middle"><span role="img" aria-label="Yes">âœ…</span></td><td class="middle"><span role="img" aria-label="Yes">âœ…</span></td></tr><tr><th>Examples</th><td><ul><li><a href="https://github.com/joeldenning/simple-single-spa-webpack-example" target="_blank" rel="noopener noreferrer">simple-webpack-example</a></li><li><a href="https://github.com/single-spa/single-spa-examples" target="_blank" rel="noopener noreferrer">single-spa-examples</a></li></ul></td><td><ul><li><a href="https://github.com/jualoppaz/single-spa-login-example-with-npm-packages" target="_blank" rel="noopener noreferrer">single-spa-login-example-with-npm-packages</a></li></ul></td><td><ul><li><a href="https://gitlab.com/TheMcMurder/single-spa-portal-example" target="_blank" rel="noopener noreferrer">SystemJS example</a></li></ul></td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/single-spa/single-spa.js.org/blob/master/website/versioned_docs/version-4.x/separating-applications.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/4.x/building-applications"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">single-spa applications</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/4.x/migrating-existing-spas"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Migrating existing code</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Courses</h4><ul class="footer__items"><li class="footer__item"><a href="https://single-spa-workshop.com" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Single-Spa Workshop">Single-Spa Workshop</a></li><li class="footer__item"><a href="https://single-spa-workshop.com" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Microfrontend Fundamentals">Microfrontend Fundamentals</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" label="FAQ" href="/docs/faq/">FAQ</a></li><li class="footer__item"><a class="footer__link-item" label="Getting Started" href="/docs/getting-started-overview/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" label="API Reference" href="/docs/api/">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" label="Sponsors" href="/sponsors/">Sponsors</a></li><li class="footer__item"><a class="footer__link-item" label="User Showcase" href="/users/">User Showcase</a></li><li class="footer__item"><a class="footer__link-item" label="Contributors" href="/contributors/">Contributors</a></li><li class="footer__item"><a href="https://join.slack.com/t/single-spa/shared_invite/zt-15a59134l-ytK9bWMD1z3vGTC9LwPREg" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Chat in Slack">Chat in Slack</a></li><li class="footer__item"><a href="https://twitter.com/Single_spa/" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Twitter">Twitter</a></li><li class="footer__item footer__item--gh"><iframe title="github" src="https://ghbtns.com/github-btn.html?user=single-spa&amp;repo=single-spa&amp;type=star&amp;count=true&amp;size=small"></iframe></li><li class="footer__item"><a href="/img/icons/148705-essential-collection/license/license.html">License for icons</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/single-spa/single-spa" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="GitHub">GitHub</a></li><li class="footer__item"><a href="https://opencollective.com/single-spa" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Donate">Donate</a></li><li class="footer__item"><a class="footer__link-item" label="Blog" href="/blog/">Blog</a></li></ul></div></div><div class="text--center"><img class="footer__logo margin-bottom--sm" alt="single-spa" src="/img/single-spa-logo-magenta.svg"><div>Originally developed at <a href="https://getcanopy.com">Canopy</a></div>Copyright Â© 2022 single-spa.</div></div></footer></div>
<script src="/assets/js/runtime~main.1f4fedc3.js"></script>
<script src="/assets/js/main.870c8bc6.js"></script>
</body>
</html>