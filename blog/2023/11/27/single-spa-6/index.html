<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">single-spa 6 | single-spa</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://single-spa.js.org/img/docusaurus.png"><meta data-rh="true" name="twitter:image" content="https://single-spa.js.org/img/docusaurus.png"><meta data-rh="true" property="og:url" content="https://single-spa.js.org/blog/2023/11/27/single-spa-6"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="single-spa 6 | single-spa"><meta data-rh="true" name="description" content="We have released single-spa@6! The single-spa core team is committed to a stable single-spa runtime with very few breaking changes. We expect over 95% of single-spa users can upgrade easily without altering their changes!"><meta data-rh="true" property="og:description" content="We have released single-spa@6! The single-spa core team is committed to a stable single-spa runtime with very few breaking changes. We expect over 95% of single-spa users can upgrade easily without altering their changes!"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-11-27T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://x.com/joelbdenning"><link data-rh="true" rel="icon" href="/img/single-spa-mark-magenta.svg"><link data-rh="true" rel="canonical" href="https://single-spa.js.org/blog/2023/11/27/single-spa-6"><link data-rh="true" rel="alternate" href="https://single-spa.js.org/blog/2023/11/27/single-spa-6" hreflang="en"><link data-rh="true" rel="alternate" href="https://single-spa.js.org/blog/2023/11/27/single-spa-6" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FWAC4N89WA-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://single-spa.js.org/blog/2023/11/27/single-spa-6","mainEntityOfPage":"https://single-spa.js.org/blog/2023/11/27/single-spa-6","url":"https://single-spa.js.org/blog/2023/11/27/single-spa-6","headline":"single-spa 6","name":"single-spa 6","description":"We have released single-spa@6! The single-spa core team is committed to a stable single-spa runtime with very few breaking changes. We expect over 95% of single-spa users can upgrade easily without altering their changes!","datePublished":"2023-11-27T00:00:00.000Z","author":{"@type":"Person","name":"Joel Denning","url":"https://x.com/joelbdenning","image":"https://avatars2.githubusercontent.com/u/5524384?s=460&v=4"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://single-spa.js.org/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="single-spa RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="single-spa Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-138683004-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>



<link rel="search" type="application/opensearchdescription+xml" title="single-spa" href="/opensearch.xml">
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script src="/js/index.js"></script><link rel="stylesheet" href="/assets/css/styles.e320bee3.css">
<script src="/assets/js/runtime~main.4fafec38.js" defer="defer"></script>
<script src="/assets/js/main.0ac5686d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/single-spa-mark-magenta.svg" alt="single-spa Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/single-spa-mark-magenta.svg" alt="single-spa Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">single-spa</b></a><a class="navbar__item navbar__link" style="white-space:nowrap;padding:0.25rem 0.5rem 0.2rem 0.25rem;font-size:calc(0.9 * var(--ifm-font-size-base));text-decoration:underline" href="/versions">6.x</a><a class="navbar__item navbar__link" href="/docs/faq/">FAQ</a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a href="https://single-spa-workshop.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Courses</a><a class="navbar__item navbar__link" href="/help/">Help</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a><a href="https://opencollective.com/single-spa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/single-spa/single-spa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/languages">简Жहि Languages</a></div><div class="navbar__items navbar__items--right"><a href="https://baseplate.cloud" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Deploy</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/09/30/core-team-meeting-notes">September 2024 Core Team Meeting</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/06/08/core-team-meeting-notes">June 2024 Core Team Meeting</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/04/10/core-team-meeting-notes">April 2024 Core Team Meeting</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/03/18/top-5-microfrontend-hosting-solutions">Top 5 Microfrontend Hosting Solutions</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/03/12/core-team-meeting-notes">March 2024 Core Team Meeting</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">single-spa 6</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-11-27T00:00:00.000Z">November 27, 2023</time> · <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://x.com/joelbdenning" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars2.githubusercontent.com/u/5524384?s=460&amp;v=4" alt="Joel Denning"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://x.com/joelbdenning" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Joel Denning</span></a></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>We have released single-spa@6! The single-spa core team is committed to a stable single-spa runtime with very few breaking changes. We expect over 95% of single-spa users can upgrade easily without altering their changes!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="note-from-single-spas-creator">Note from single-spa&#x27;s creator<a href="#note-from-single-spas-creator" class="hash-link" aria-label="Direct link to Note from single-spa&#x27;s creator" title="Direct link to Note from single-spa&#x27;s creator">​</a></h2>
<p>On September 22, 2015, I pushed single-spa&#x27;s <a href="https://github.com/single-spa/single-spa/commit/1b885d783fde8000489cf19fc4db8e167aa55526" target="_blank" rel="noopener noreferrer">initial commit</a>. 8 years later, I am releasing single-spa@6. I am committed to this project and hope to improve and grow it for many years to come. The single-spa core team recently started monthly calls where we discuss important pull requests and roadmap (see first <a href="https://single-spa.js.org/blog/2023/11/07/core-team-meeting-notes" target="_blank" rel="noopener noreferrer">meeting notes</a>). The future of microfrontends still includes single-spa.</p>
<p>On December 11, 2023, the company I founded is launching a product called <a href="https://baseplate.cloud" target="_blank" rel="noopener noreferrer">Baseplate Cloud</a> that offers single-spa hosting. Baseplate Cloud is the single-spa hosting solution born from 4+ years of consulting with various companies who were implementing single-spa. <a href="https://baseplate.cloud/docs/cdn/intro" target="_blank" rel="noopener noreferrer">Baseplate CDN</a> is a Cloudflare worker that proxies JS files from cloud storage, provides edge-side import map processing, auto-implements single-spa root configs, and more. Cloudflare edge-side processing provides many performance advantages while retaining the impressive scalability and security of Cloudflare. As a sign of good will towards the open source and single-spa communities, I have kept the <a href="https://github.com/JustUtahCoders/baseplate-cloudflare-worker" target="_blank" rel="noopener noreferrer">baseplate-cloudflare-worker</a> public, with a &quot;Commons Clause&quot; + AGPL 3.0 license. Companies can use and contribute to baseplate-cloudflare-worker freely, as long as they don&#x27;t try to sell it in competition to Baseplate Cloud. I would appreciate the community&#x27;s backing and hope Baseplate becomes the way to financially sustain the single-spa project in the long term.</p>
<p>It would mean the world to me if your company or organization considered signing up for Baseplate&#x27;s paid, private beta launch. We used the revenue the community gave us for <a href="https://single-spa-workshop.com" target="_blank" rel="noopener noreferrer">single-spa-workshop.com</a> to create Baseplate, and plan to use Baseplate revenue to fund maintenance of single-spa&#x27;s open source ecosystem. The Baseplate team is proudly a worker-owned business that has not sacrificed ownership of the company to outside investors. We built Baseplate with the revenue the community gave us via single-spa-workshop.com as the initial funding, which is only a few thousand dollars a month. The best Christmas present I could receive this year is a few dozen companies signing up immediately and putting Baseplate on their Q1 or Q2 roadmaps for 2024. I am asking for corporate partners to ensure long term financial sustainability so that single-spa will remain a good microfrontends solution for years to come.</p>
<p><a href="mailto:sales@baseplate.cloud" target="_blank" rel="noopener noreferrer">Contact Baseplate Sales</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<p>single-spa@6 provides advanced features such as async navigation cancelation and parcel-only mode (via <code>patchHistoryApi</code>), while also updating the package configuration to use modern NodeJS and bundler features like <a href="https://nodejs.org/dist/latest-v16.x/docs/api/packages.html#packages_package_entry_points" target="_blank" rel="noopener noreferrer">package entrypoints</a> and <a href="https://nodejs.org/dist/latest-v16.x/docs/api/packages.html#packages_type" target="_blank" rel="noopener noreferrer"><code>&quot;type&quot;: &quot;module&quot;</code></a>. We also updated <code>urlRerouteOnly</code> to default to <code>true</code>, as it boosts performance and we consider it to be a best practice to author applications that work when urlRerouteOnly is set to true.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="browser-support--ie11">Browser Support / IE11<a href="#browser-support--ie11" class="hash-link" aria-label="Direct link to Browser Support / IE11" title="Direct link to Browser Support / IE11">​</a></h2>
<p><strong>We still support IE11</strong> and the same versions of NodeJS (at least as old as Node 10). However, we&#x27;ve changed our defaults such that IE11 is only supported with some additional configuration, as described in the IE11 Migration section below.</p>
<p>For the <code>single-spa</code> npm package, we plan single-spa@6 to be the last major version that supports IE11. In general, we&#x27;ve released a major version of single-spa every 1-2 years. We do not have a concrete timeline or plans for single-spa@7, and will accept community contributions for any important patches to single-spa@6 after single-spa@7 is released.</p>
<p>For all surrounding packages (single-spa-react, single-spa-vue, systemjs-webpack-interop, single-spa-angular, etc) we may begin dropping IE11 support sooner than the single-spa@7 release. As we do so, we&#x27;ll create documentation that lists the latest versions of packages that support IE11, and also accept community contributions to those versions for important updates.</p>
<p>The motivation for dropping IE11 support over time is to allow our core team to spend less time on supporting a nine year old browser and more time pushing the single-spa ecosystem forward. Also, we believe that the majority of end users should not suffer performance penalties because of a small percentage of users still using IE11. Slowly dropping IE11 also will also allow us to focus on a systemjs-less future for single-spa, where native browser modules are used rather than systemjs modules.</p>
<p>We understand and sympathize with companies who cannot drop IE11 support now, which is why we&#x27;re supporting IE11 even though much of the ecosystem has already dropped it (Vue 3 does not support ie11, Angular only does after some effort, and even webpack 5 requires extra configuration to get it working in IE11). Many of single-spa&#x27;s users are large financial institutions, large ecommerce companies, and other very large companies, where dropping IE11 support is a long process that involves many dozens of people from separate departments. We encourage single-spa users to start the conversations at your companies about dropping IE11 support, even if they take a long time or result in a decision to drop IE11 years in the future.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration">Migration<a href="#migration" class="hash-link" aria-label="Direct link to Migration" title="Direct link to Migration">​</a></h2>
<p>We think that &gt;95% of single-spa users will be able to safely upgrade with no code changes. The breaking changes below are largely related to advanced features that most single-spa users do not use.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="steps">Steps<a href="#steps" class="hash-link" aria-label="Direct link to Steps" title="Direct link to Steps">​</a></h3>
<ol>
<li>If using SystemJS + import maps, change the URL of single-spa in your import map:</li>
</ol>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;script type=&quot;systemjs-importmap&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;imports&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-     &quot;single-spa&quot;: &quot;https://cdn.jsdelivr.net/npm/single-spa@5.9.2/lib/system/single-spa.min.js&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+     &quot;single-spa&quot;: &quot;https://cdn.jsdelivr.net/npm/single-spa@6.0.0/lib/es2015/system/single-spa.min.js&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>In all your microfrontends (including root config), upgrade single-spa:</li>
</ol>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm install single-spa@6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">yarn add single-spa@6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pnpm install single-spa@6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Test things out.</li>
<li>If your app is not re-rendering during route transitions like it should (this is most common for Angular apps, but can happen in other frameworks to if you do a route transition without modifying the URL), change your root config&#x27;s call to <code>start()</code></li>
</ol>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import { start } from &#x27;single-spa&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// DO NOT MAKE THIS CHANGE unless you are experiencing problems.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- start();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+ start({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+   urlRerouteOnly: false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+ });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>That&#x27;s it! If you experience other issues, let us know in Github issues.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ie11">IE11<a href="#ie11" class="hash-link" aria-label="Direct link to IE11" title="Direct link to IE11">​</a></h3>
<p>If you support IE11, use the <code>es5</code> version of single-spa rather than <code>es2015</code>. The method of doing this depends on your configuration - some common ones are explained below:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="import-maps">Import Maps<a href="#import-maps" class="hash-link" aria-label="Direct link to Import Maps" title="Direct link to Import Maps">​</a></h4>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;script type=&quot;systemjs-importmap&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;imports&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-     &quot;single-spa&quot;: &quot;https://cdn.jsdelivr.net/npm/single-spa@6.0.0/lib/es2015/system/single-spa.min.js&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+     &quot;single-spa&quot;: &quot;https://cdn.jsdelivr.net/npm/single-spa@6.0.0/lib/es5/system/single-spa.min.js&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="webpack">Webpack<a href="#webpack" class="hash-link" aria-label="Direct link to Webpack" title="Direct link to Webpack">​</a></h4>
<p>If externalizing single-spa in your webpack config (very common, and the default with webpack-config-single-spa), you do not need to make the changes below. Otherwise, though, these changes will ensure you use the IE11-compatible version of single-spa.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// webpack.config.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">resolve</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">alias</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string-property property">&quot;single-spa&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;single-spa/lib/es5/esm/single-spa.min.js&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rollup">Rollup<a href="#rollup" class="hash-link" aria-label="Direct link to Rollup" title="Direct link to Rollup">​</a></h4>
<p>Use <a href="https://www.npmjs.com/package/@rollup/plugin-alias" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/@rollup/plugin-alias</a> to alias the import similarly to webpack</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="import">Import<a href="#import" class="hash-link" aria-label="Direct link to Import" title="Direct link to Import">​</a></h4>
<p>If you do not wish to change bundler configuration, you can modify your import statements.</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">- import { start } from &#x27;single-spa&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+ import { start } from &#x27;single-spa/lib/es5/esm/single-spa.min.js&#x27;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">​</a></h2>
<ul>
<li>single-spa&#x27;s package.json&#x27;s <code>&quot;main&quot;</code> field now points to an es2015 version of single-spa that does not work in IE11. To support IE11, see section below.</li>
<li>Delay patching history api until start() or patchHistoryApi() is called. <a href="https://github.com/single-spa/single-spa/pull/827" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>Do not show start() warning when registerApplication hasn&#x27;t been called (for parcel-only use cases) <a href="https://github.com/single-spa/single-spa/pull/827" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>Change urlRerouteOnly default value to true. This is a performance boost for most applications, but for some situations can result in single-spa not triggering mounts/unmounts when it should. You can read more about it at <a href="https://single-spa.js.org/docs/api#start" target="_blank" rel="noopener noreferrer">https://single-spa.js.org/docs/api#start</a> and <a href="https://github.com/single-spa/single-spa/issues/484" target="_blank" rel="noopener noreferrer">https://github.com/single-spa/single-spa/issues/484</a>. Angular users may want to set it to false due to nuanced behavior of angular router. To do so, call <code>start({urlRerouteOnly: false})</code> in your root config. <a href="https://github.com/single-spa/single-spa/pull/828" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li><code>cancelNavigation(val)</code> no longer cancels navigation if <code>val</code> is falsy <a href="https://github.com/single-spa/single-spa/pull/826" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>single-spa&#x27;s package.json <code>&quot;type&quot;</code> is now set to <code>&quot;module&quot;</code>. This only impacts NodeJS usage of single-spa (not webpack/rollup/browser). Read more at <a href="https://nodejs.org/dist/latest-v16.x/docs/api/packages.html#packages_type" target="_blank" rel="noopener noreferrer">official nodejs docs</a>.</li>
<li>single-spa&#x27;s package.json now has <code>&quot;exports&quot;</code>. This changes which of single-spa&#x27;s bundles are used by NodeJS, webpack, and rollup. The main change is that webpack / rollup will now use an IE11-incompatible (es2015) version of single-spa. See IE11 section below for more details. Additionally, an ESM version of single-spa will now be used when loaded via <code>import(&#x27;single-spa&#x27;)</code> or <code>import &#x27;single-spa&#x27;;</code>, whereas a UMD version will be used when calling <code>require(&quot;single-spa&#x27;)</code>. To avoid the <a href="https://nodejs.org/dist/latest-v16.x/docs/api/packages.html#packages_dual_commonjs_es_module_packages" target="_blank" rel="noopener noreferrer">dual package hazard</a>, only use <code>import</code> or <code>require</code> to load single-spa in your NodeJS code - do not use both. You can see the package exports at <a href="https://github.com/single-spa/single-spa/blob/dea22f1aac39777a07252897ae625ab1d8313e9d/package.json#L8-L25" target="_blank" rel="noopener noreferrer">https://github.com/single-spa/single-spa/blob/dea22f1aac39777a07252897ae625ab1d8313e9d/package.json#L8-L25</a>.</li>
<li>The published <code>umd</code> builds now have <code>.cjs</code> extensions rather than <code>.js</code>, since all <code>.js</code> files in the single-spa package are assumed to be ESM.</li>
</ul>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">File structure published to npm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Before</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># See https://www.jsdelivr.com/package/npm/single-spa?path=lib&amp;version=5.9.3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lib/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # IE11</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  umd/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    single-spa.dev.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    single-spa.min.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # IE11</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  esm/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    single-spa.dev.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    single-spa.min.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # IE11</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  system/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    single-spa.dev.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    single-spa.min.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # No IE11</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  es2015/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    single-spa.dev.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    single-spa.min.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># After</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># See https://www.jsdelivr.com/package/npm/single-spa?path=lib&amp;version=6.0.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lib</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # IE11</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  es5/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    umd/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.dev.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.min.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    system/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.dev.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.min.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    esm/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.dev.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.min.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # No IE11</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  es2015/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    umd/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.dev.cjs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.min.cjs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    system/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.dev.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.min.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    esm/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.dev.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      single-spa.min.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="async-navigation-cancelation">Async navigation cancelation<a href="#async-navigation-cancelation" class="hash-link" aria-label="Direct link to Async navigation cancelation" title="Direct link to Async navigation cancelation">​</a></h2>
<p>We&#x27;ve added support for async navigation cancelation. To use it, call <code>cancelNavigation(promise)</code> with a promise as an argument. Single-spa will wait until that promise resolves/rejects before proceeding with navigation. If the promise resolves with a truthy value, navigation is canceled. If the promise resolves with a falsy value or rejects, navigation is not canceled. <a href="https://github.com/single-spa/single-spa/pull/826" target="_blank" rel="noopener noreferrer">Github link</a></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;single-spa:before-routing-event&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">oldUrl</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/settings&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    evt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">cancelNavigation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">checkSettingsOkay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">checkSettingsOkay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> response </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fetch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/api/settings-okay&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">alert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Please fix your settings before leaving the page&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-patchhistoryapi">New patchHistoryApi<a href="#new-patchhistoryapi" class="hash-link" aria-label="Direct link to New patchHistoryApi" title="Direct link to New patchHistoryApi">​</a></h3>
<p>We&#x27;ve exposed a new <code>patchHistoryApi()</code> api. This lets you use single-spa&#x27;s modified implementations of pushState/replaceState/popstate/hashchange without using single-spa applications. This is intended to be used by single-spa users who exclusively use single-spa parcels, rather than applications <a href="https://github.com/single-spa/single-spa/pull/827" target="_blank" rel="noopener noreferrer">Github link</a></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> patchHistoryApi</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> mountRootParcel </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;single-spa&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">patchHistoryApi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">urlRerouteOnly</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// now you don&#x27;t need to call start() if you&#x27;re only using parcels</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mountRootParcel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">parcelConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> parcelProps</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-profiler">New profiler<a href="#new-profiler" class="hash-link" aria-label="Direct link to New profiler" title="Direct link to New profiler">​</a></h3>
<p>We&#x27;ve implemented a profiler that is available within the dev builds of single-spa@6. A visualization of the profiler is available in the single-spa-inspector@0.6.0 browser extension:</p>
<ul>
<li>Implement profiler for lifecycle events. by @joeldenning in <a href="https://github.com/single-spa/single-spa/pull/868" target="_blank" rel="noopener noreferrer">#868</a></li>
<li>Implement parcel and routing profiler events. by @joeldenning in <a href="https://github.com/single-spa/single-spa/pull/903" target="_blank" rel="noopener noreferrer">#903</a></li>
</ul>
<img src="/img/profiler-screenshot.png" alt="Screenshot of single-spa-inspector profiler tab">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fixes">Fixes<a href="#fixes" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h2>
<ul>
<li>Fix regression with parcel name <a href="https://github.com/single-spa/single-spa/pull/825" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>Ensure all reroute promises (triggerAppChange() return value) resolve even during cancelation <a href="https://github.com/single-spa/single-spa/pull/831" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>fix(types): fix SingleSpaAppsByNewStatus interface by @FelixGraf in <a href="https://github.com/single-spa/single-spa/pull/988" target="_blank" rel="noopener noreferrer">#988</a></li>
<li>Ensure app is unmounted during unregisterApplication. Resolves #871 by @joeldenning in <a href="https://github.com/single-spa/single-spa/pull/875" target="_blank" rel="noopener noreferrer">#875</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="maintenance">Maintenance<a href="#maintenance" class="hash-link" aria-label="Direct link to Maintenance" title="Direct link to Maintenance">​</a></h2>
<ul>
<li>Switch from yarn -&gt; pnpm <a href="https://github.com/single-spa/single-spa/pull/824" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>Upgrade all dependencies <a href="https://github.com/single-spa/single-spa/pull/824" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>Upgrade husky from v4 to v7. Use pinst to avoid issues with yarn 2 users as described in <a href="https://typicode.github.io/husky/#/?id=yarn-2" target="_blank" rel="noopener noreferrer">https://typicode.github.io/husky/#/?id=yarn-2</a> <a href="https://github.com/single-spa/single-spa/pull/824" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>Upgrade to Jest 27. Fix tests to work with Jest 27. <a href="https://github.com/single-spa/single-spa/pull/824" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>Upgrade to Node 16. Fix tests to work with Node 16 (Fix tests in Node 15 #652) <a href="https://github.com/single-spa/single-spa/pull/824" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>Run upgraded version of prettier on all files. <a href="https://github.com/single-spa/single-spa/pull/824" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>Remove unused babel-eslint dependency <a href="https://github.com/single-spa/single-spa/pull/824" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>Upgrade to new package names for all rollup plugins. (@rollup/plugin-node-resolve instead of rollup-plugin-node-resolve) <a href="https://github.com/single-spa/single-spa/pull/824" target="_blank" rel="noopener noreferrer">Github link</a></li>
<li>Remove file size impact workflow since it&#x27;s broken. by @joeldenning in <a href="https://github.com/single-spa/single-spa/pull/879" target="_blank" rel="noopener noreferrer">#879</a></li>
<li>Remove console.log in test by @joeldenning in <a href="https://github.com/single-spa/single-spa/pull/878" target="_blank" rel="noopener noreferrer">#878</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2023/12/12/core-team-meeting-notes"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">December 2023 Core Team Meeting</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2023/11/07/core-team-meeting-notes"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">November 2023 Core Team Meeting</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#note-from-single-spas-creator" class="table-of-contents__link toc-highlight">Note from single-spa&#39;s creator</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#browser-support--ie11" class="table-of-contents__link toc-highlight">Browser Support / IE11</a></li><li><a href="#migration" class="table-of-contents__link toc-highlight">Migration</a><ul><li><a href="#steps" class="table-of-contents__link toc-highlight">Steps</a></li><li><a href="#ie11" class="table-of-contents__link toc-highlight">IE11</a></li></ul></li><li><a href="#breaking-changes" class="table-of-contents__link toc-highlight">Breaking Changes</a></li><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#async-navigation-cancelation" class="table-of-contents__link toc-highlight">Async navigation cancelation</a><ul><li><a href="#new-patchhistoryapi" class="table-of-contents__link toc-highlight">New patchHistoryApi</a></li><li><a href="#new-profiler" class="table-of-contents__link toc-highlight">New profiler</a></li></ul></li><li><a href="#fixes" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#maintenance" class="table-of-contents__link toc-highlight">Maintenance</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Courses</h4><ul class="footer__items"><li class="footer__item"><a href="https://single-spa-workshop.com" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Single-Spa Workshop">Single-Spa Workshop</a></li><li class="footer__item"><a href="https://single-spa-workshop.com" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Microfrontend Fundamentals">Microfrontend Fundamentals</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" label="FAQ" href="/docs/faq/">FAQ</a></li><li class="footer__item"><a class="footer__link-item" label="Getting Started" href="/docs/getting-started-overview/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" label="API Reference" href="/docs/api/">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" label="Governance" href="/governance/">Governance</a></li><li class="footer__item"><a class="footer__link-item" label="Code of Conduct" href="/code-of-conduct/">Code of Conduct</a></li><li class="footer__item"><a class="footer__link-item" label="Sponsors" href="/sponsors/">Sponsors</a></li><li class="footer__item"><a class="footer__link-item" label="User Showcase" href="/users/">User Showcase</a></li><li class="footer__item"><a class="footer__link-item" label="Contributors" href="/contributors/">Contributors</a></li><li class="footer__item"><a href="https://join.slack.com/t/single-spa/shared_invite/zt-2uvhef42o-g4H3mvKDaenE9xVAewBKww" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Chat in Slack">Chat in Slack</a></li><li class="footer__item"><a href="https://twitter.com/Single_spa/" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Twitter">Twitter</a></li><li class="footer__item footer__item--gh"><iframe title="github" src="https://ghbtns.com/github-btn.html?user=single-spa&amp;repo=single-spa&amp;type=star&amp;count=true&amp;size=small"></iframe></li><li class="footer__item"><a href="/img/icons/148705-essential-collection/license/license.html">License for icons</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/single-spa/single-spa" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="GitHub">GitHub</a></li><li class="footer__item"><a href="https://opencollective.com/single-spa" target="_blank" rel="noopener noreferrer" class="footer__link-item" label="Donate">Donate</a></li><li class="footer__item"><a class="footer__link-item" label="Blog" href="/blog/">Blog</a></li></ul></div></div><div class="text--center"><img class="footer__logo margin-bottom--sm" alt="single-spa" src="/img/single-spa-logo-magenta.svg"><div>Originally developed at <a href="https://getcanopy.com">Canopy</a></div>Copyright © 2025 single-spa.</div></div></footer></div>
</body>
</html>